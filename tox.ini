[tox]
envlist = py27,py36
[testenv]
deps=-rrequirements.dev.txt
commands=pytest
setenv=
    COVERAGE_PROCESS_START=.coveragerc
    PYVER={envname}
[pytest]
# beware: different pytest modules handle interpolation differently
# i.e. pytest-cov - not at all! we defer to the coveragerc file. even that does not handle cross-platform expansion of '~'
addopts = --tb=short --cov=mbed_cloud --cov-config .coveragerc --cov-report html --cov-report xml --html=~/results/$PYVER/unittests.html --self-contained-html
json_report = ~/results/$PYVER/unittests.json
